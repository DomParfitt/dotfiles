- hosts:
    - all
    - localhost
  connection: local
  vars:
    is_linux: "{{ (ansible_facts['system'] | lower == 'linux') }}"
    is_mac: "{{ (ansible_facts['os_family'] | lower == 'darwin') }}"
    should_sudo_install: "{{ not is_mac }}"
    should_use_cargo: false
  roles:
    - role: homebrew
      when: is_mac
    - common
    - role: alacritty
      tags:
        - terminal
    - role: awesome
      when: is_linux
    - aws
    - bat
    - bottom
    - role: bspwm
      when: is_linux
    - role: docker
      when: is_linux
    - role: exa
      tags:
        - terminal
    - role: fish
      tags:
        - terminal
    - role: flatpak
      when: is_linux
    - fzf
    - gcloud
    - git
    - role: gnome
      when: is_linux
    - httpie
    - role: i3
      when: is_linux
    - jq
    - role: kitty
      tags:
        - terminal
    - kubernetes
    - lazygit
    - node
    - nomad
    - role: polybar
      when: is_linux
    - procs
    - ripgrep
    - rust
    - ssh
    - role: starship
      tags:
        - terminal
    - tealdeer
    - role: tmux
      tags:
        - terminal
    - vagrant
    - vim
    - vscode
    - zoxide
    - role: zsh
      tags:
        - terminal
